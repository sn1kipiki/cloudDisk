{"ast":null,"code":"import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as THREE from 'three';\nimport * as React from 'react';\nimport { shaderMaterial } from './shaderMaterial.js';\nimport { useThree, extend, applyProps } from '@react-three/fiber';\nimport { toCreasedNormals } from 'three-stdlib';\nconst OutlinesMaterial = shaderMaterial({\n  screenspace: false,\n  color: new THREE.Color('black'),\n  opacity: 1,\n  thickness: 0.05,\n  size: new THREE.Vector2()\n}, `#include <common>\n   #include <morphtarget_pars_vertex>\n   #include <skinning_pars_vertex>\n   uniform float thickness;\n   uniform float screenspace;\n   uniform vec2 size;\n   void main() {\n     #if defined (USE_SKINNING)\n\t     #include <beginnormal_vertex>\n       #include <morphnormal_vertex>\n       #include <skinbase_vertex>\n       #include <skinnormal_vertex>\n       #include <defaultnormal_vertex>\n     #endif\n     #include <begin_vertex>\n\t   #include <morphtarget_vertex>\n\t   #include <skinning_vertex>\n     #include <project_vertex>\n     vec4 tNormal = vec4(normal, 0.0);\n     vec4 tPosition = vec4(transformed, 1.0);\n     #ifdef USE_INSTANCING\n       tNormal = instanceMatrix * tNormal;\n       tPosition = instanceMatrix * tPosition;\n     #endif\n     if (screenspace == 0.0) {\n       vec3 newPosition = tPosition.xyz + tNormal.xyz * thickness;\n       gl_Position = projectionMatrix * modelViewMatrix * vec4(newPosition, 1.0); \n     } else {\n       vec4 clipPosition = projectionMatrix * modelViewMatrix * tPosition;\n       vec4 clipNormal = projectionMatrix * modelViewMatrix * tNormal;\n       vec2 offset = normalize(clipNormal.xy) * thickness / size * clipPosition.w * 2.0;\n       clipPosition.xy += offset;\n       gl_Position = clipPosition;\n     }\n   }`, `uniform vec3 color;\n   uniform float opacity;\n   void main(){\n     gl_FragColor = vec4(color, opacity);\n     #include <tonemapping_fragment>\n     #include <${parseInt(THREE.REVISION.replace(/\\D+/g, '')) >= 154 ? 'colorspace_fragment' : 'encodings_fragment'}>\n   }`);\nfunction Outlines({\n  color = 'black',\n  opacity = 1,\n  transparent = false,\n  screenspace = false,\n  toneMapped = true,\n  polygonOffset = false,\n  polygonOffsetFactor = 0,\n  thickness = 0.05,\n  angle = Math.PI,\n  ...props\n}) {\n  var _ref$current, _ref$current$parent;\n  const ref = React.useRef(null);\n  const [material] = React.useState(() => new OutlinesMaterial({\n    side: THREE.BackSide\n  }));\n  const {\n    gl\n  } = useThree();\n  const contextSize = gl.getDrawingBufferSize(new THREE.Vector2());\n  React.useMemo(() => extend({\n    OutlinesMaterial\n  }), []);\n  React.useLayoutEffect(() => {\n    const group = ref.current;\n    const parent = group.parent;\n    if (parent && parent.geometry) {\n      let mesh;\n      if (parent.skeleton) {\n        mesh = new THREE.SkinnedMesh();\n        mesh.material = material;\n        mesh.bind(parent.skeleton, parent.bindMatrix);\n        group.add(mesh);\n      } else if (parent.isInstancedMesh) {\n        mesh = new THREE.InstancedMesh(parent.geometry, material, parent.count);\n        mesh.instanceMatrix = parent.instanceMatrix;\n        group.add(mesh);\n      } else {\n        mesh = new THREE.Mesh();\n        mesh.material = material;\n        group.add(mesh);\n      }\n      mesh.geometry = angle ? toCreasedNormals(parent.geometry, angle) : parent.geometry;\n      return () => {\n        if (angle) mesh.geometry.dispose();\n        group.remove(mesh);\n      };\n    }\n  }, [angle, (_ref$current = ref.current) == null ? void 0 : (_ref$current$parent = _ref$current.parent) == null ? void 0 : _ref$current$parent.geometry]);\n  React.useLayoutEffect(() => {\n    const group = ref.current;\n    const mesh = group.children[0];\n    if (mesh) {\n      applyProps(mesh.material, {\n        transparent,\n        thickness,\n        color,\n        opacity,\n        size: contextSize,\n        screenspace,\n        toneMapped,\n        polygonOffset,\n        polygonOffsetFactor\n      });\n    }\n  }, [angle, transparent, thickness, color, opacity, screenspace, toneMapped, polygonOffset, polygonOffsetFactor, contextSize]);\n  return /*#__PURE__*/React.createElement(\"group\", _extends({\n    ref: ref\n  }, props));\n}\nexport { Outlines };","map":{"version":3,"names":["_extends","THREE","React","shaderMaterial","useThree","extend","applyProps","toCreasedNormals","OutlinesMaterial","screenspace","color","Color","opacity","thickness","size","Vector2","parseInt","REVISION","replace","Outlines","transparent","toneMapped","polygonOffset","polygonOffsetFactor","angle","Math","PI","props","_ref$current","_ref$current$parent","ref","useRef","material","useState","side","BackSide","gl","contextSize","getDrawingBufferSize","useMemo","useLayoutEffect","group","current","parent","geometry","mesh","skeleton","SkinnedMesh","bind","bindMatrix","add","isInstancedMesh","InstancedMesh","count","instanceMatrix","Mesh","dispose","remove","children","createElement"],"sources":["C:/Users/SystemX/Desktop/prj/cloudDisk/client/node_modules/@react-three/drei/core/Outlines.js"],"sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as THREE from 'three';\nimport * as React from 'react';\nimport { shaderMaterial } from './shaderMaterial.js';\nimport { useThree, extend, applyProps } from '@react-three/fiber';\nimport { toCreasedNormals } from 'three-stdlib';\n\nconst OutlinesMaterial = shaderMaterial({\n  screenspace: false,\n  color: new THREE.Color('black'),\n  opacity: 1,\n  thickness: 0.05,\n  size: new THREE.Vector2()\n}, `#include <common>\n   #include <morphtarget_pars_vertex>\n   #include <skinning_pars_vertex>\n   uniform float thickness;\n   uniform float screenspace;\n   uniform vec2 size;\n   void main() {\n     #if defined (USE_SKINNING)\n\t     #include <beginnormal_vertex>\n       #include <morphnormal_vertex>\n       #include <skinbase_vertex>\n       #include <skinnormal_vertex>\n       #include <defaultnormal_vertex>\n     #endif\n     #include <begin_vertex>\n\t   #include <morphtarget_vertex>\n\t   #include <skinning_vertex>\n     #include <project_vertex>\n     vec4 tNormal = vec4(normal, 0.0);\n     vec4 tPosition = vec4(transformed, 1.0);\n     #ifdef USE_INSTANCING\n       tNormal = instanceMatrix * tNormal;\n       tPosition = instanceMatrix * tPosition;\n     #endif\n     if (screenspace == 0.0) {\n       vec3 newPosition = tPosition.xyz + tNormal.xyz * thickness;\n       gl_Position = projectionMatrix * modelViewMatrix * vec4(newPosition, 1.0); \n     } else {\n       vec4 clipPosition = projectionMatrix * modelViewMatrix * tPosition;\n       vec4 clipNormal = projectionMatrix * modelViewMatrix * tNormal;\n       vec2 offset = normalize(clipNormal.xy) * thickness / size * clipPosition.w * 2.0;\n       clipPosition.xy += offset;\n       gl_Position = clipPosition;\n     }\n   }`, `uniform vec3 color;\n   uniform float opacity;\n   void main(){\n     gl_FragColor = vec4(color, opacity);\n     #include <tonemapping_fragment>\n     #include <${parseInt(THREE.REVISION.replace(/\\D+/g, '')) >= 154 ? 'colorspace_fragment' : 'encodings_fragment'}>\n   }`);\nfunction Outlines({\n  color = 'black',\n  opacity = 1,\n  transparent = false,\n  screenspace = false,\n  toneMapped = true,\n  polygonOffset = false,\n  polygonOffsetFactor = 0,\n  thickness = 0.05,\n  angle = Math.PI,\n  ...props\n}) {\n  var _ref$current, _ref$current$parent;\n\n  const ref = React.useRef(null);\n  const [material] = React.useState(() => new OutlinesMaterial({\n    side: THREE.BackSide\n  }));\n  const {\n    gl\n  } = useThree();\n  const contextSize = gl.getDrawingBufferSize(new THREE.Vector2());\n  React.useMemo(() => extend({\n    OutlinesMaterial\n  }), []);\n  React.useLayoutEffect(() => {\n    const group = ref.current;\n    const parent = group.parent;\n\n    if (parent && parent.geometry) {\n      let mesh;\n\n      if (parent.skeleton) {\n        mesh = new THREE.SkinnedMesh();\n        mesh.material = material;\n        mesh.bind(parent.skeleton, parent.bindMatrix);\n        group.add(mesh);\n      } else if (parent.isInstancedMesh) {\n        mesh = new THREE.InstancedMesh(parent.geometry, material, parent.count);\n        mesh.instanceMatrix = parent.instanceMatrix;\n        group.add(mesh);\n      } else {\n        mesh = new THREE.Mesh();\n        mesh.material = material;\n        group.add(mesh);\n      }\n\n      mesh.geometry = angle ? toCreasedNormals(parent.geometry, angle) : parent.geometry;\n      return () => {\n        if (angle) mesh.geometry.dispose();\n        group.remove(mesh);\n      };\n    }\n  }, [angle, (_ref$current = ref.current) == null ? void 0 : (_ref$current$parent = _ref$current.parent) == null ? void 0 : _ref$current$parent.geometry]);\n  React.useLayoutEffect(() => {\n    const group = ref.current;\n    const mesh = group.children[0];\n\n    if (mesh) {\n      applyProps(mesh.material, {\n        transparent,\n        thickness,\n        color,\n        opacity,\n        size: contextSize,\n        screenspace,\n        toneMapped,\n        polygonOffset,\n        polygonOffsetFactor\n      });\n    }\n  }, [angle, transparent, thickness, color, opacity, screenspace, toneMapped, polygonOffset, polygonOffsetFactor, contextSize]);\n  return /*#__PURE__*/React.createElement(\"group\", _extends({\n    ref: ref\n  }, props));\n}\n\nexport { Outlines };\n"],"mappings":"AAAA,OAAOA,QAAQ,MAAM,oCAAoC;AACzD,OAAO,KAAKC,KAAK,MAAM,OAAO;AAC9B,OAAO,KAAKC,KAAK,MAAM,OAAO;AAC9B,SAASC,cAAc,QAAQ,qBAAqB;AACpD,SAASC,QAAQ,EAAEC,MAAM,EAAEC,UAAU,QAAQ,oBAAoB;AACjE,SAASC,gBAAgB,QAAQ,cAAc;AAE/C,MAAMC,gBAAgB,GAAGL,cAAc,CAAC;EACtCM,WAAW,EAAE,KAAK;EAClBC,KAAK,EAAE,IAAIT,KAAK,CAACU,KAAK,CAAC,OAAO,CAAC;EAC/BC,OAAO,EAAE,CAAC;EACVC,SAAS,EAAE,IAAI;EACfC,IAAI,EAAE,IAAIb,KAAK,CAACc,OAAO,CAAC;AAC1B,CAAC,EAAG;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,EAAG;AACR;AACA;AACA;AACA;AACA,iBAAiBC,QAAQ,CAACf,KAAK,CAACgB,QAAQ,CAACC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC,IAAI,GAAG,GAAG,qBAAqB,GAAG,oBAAqB;AACpH,KAAK,CAAC;AACN,SAASC,QAAQA,CAAC;EAChBT,KAAK,GAAG,OAAO;EACfE,OAAO,GAAG,CAAC;EACXQ,WAAW,GAAG,KAAK;EACnBX,WAAW,GAAG,KAAK;EACnBY,UAAU,GAAG,IAAI;EACjBC,aAAa,GAAG,KAAK;EACrBC,mBAAmB,GAAG,CAAC;EACvBV,SAAS,GAAG,IAAI;EAChBW,KAAK,GAAGC,IAAI,CAACC,EAAE;EACf,GAAGC;AACL,CAAC,EAAE;EACD,IAAIC,YAAY,EAAEC,mBAAmB;EAErC,MAAMC,GAAG,GAAG5B,KAAK,CAAC6B,MAAM,CAAC,IAAI,CAAC;EAC9B,MAAM,CAACC,QAAQ,CAAC,GAAG9B,KAAK,CAAC+B,QAAQ,CAAC,MAAM,IAAIzB,gBAAgB,CAAC;IAC3D0B,IAAI,EAAEjC,KAAK,CAACkC;EACd,CAAC,CAAC,CAAC;EACH,MAAM;IACJC;EACF,CAAC,GAAGhC,QAAQ,CAAC,CAAC;EACd,MAAMiC,WAAW,GAAGD,EAAE,CAACE,oBAAoB,CAAC,IAAIrC,KAAK,CAACc,OAAO,CAAC,CAAC,CAAC;EAChEb,KAAK,CAACqC,OAAO,CAAC,MAAMlC,MAAM,CAAC;IACzBG;EACF,CAAC,CAAC,EAAE,EAAE,CAAC;EACPN,KAAK,CAACsC,eAAe,CAAC,MAAM;IAC1B,MAAMC,KAAK,GAAGX,GAAG,CAACY,OAAO;IACzB,MAAMC,MAAM,GAAGF,KAAK,CAACE,MAAM;IAE3B,IAAIA,MAAM,IAAIA,MAAM,CAACC,QAAQ,EAAE;MAC7B,IAAIC,IAAI;MAER,IAAIF,MAAM,CAACG,QAAQ,EAAE;QACnBD,IAAI,GAAG,IAAI5C,KAAK,CAAC8C,WAAW,CAAC,CAAC;QAC9BF,IAAI,CAACb,QAAQ,GAAGA,QAAQ;QACxBa,IAAI,CAACG,IAAI,CAACL,MAAM,CAACG,QAAQ,EAAEH,MAAM,CAACM,UAAU,CAAC;QAC7CR,KAAK,CAACS,GAAG,CAACL,IAAI,CAAC;MACjB,CAAC,MAAM,IAAIF,MAAM,CAACQ,eAAe,EAAE;QACjCN,IAAI,GAAG,IAAI5C,KAAK,CAACmD,aAAa,CAACT,MAAM,CAACC,QAAQ,EAAEZ,QAAQ,EAAEW,MAAM,CAACU,KAAK,CAAC;QACvER,IAAI,CAACS,cAAc,GAAGX,MAAM,CAACW,cAAc;QAC3Cb,KAAK,CAACS,GAAG,CAACL,IAAI,CAAC;MACjB,CAAC,MAAM;QACLA,IAAI,GAAG,IAAI5C,KAAK,CAACsD,IAAI,CAAC,CAAC;QACvBV,IAAI,CAACb,QAAQ,GAAGA,QAAQ;QACxBS,KAAK,CAACS,GAAG,CAACL,IAAI,CAAC;MACjB;MAEAA,IAAI,CAACD,QAAQ,GAAGpB,KAAK,GAAGjB,gBAAgB,CAACoC,MAAM,CAACC,QAAQ,EAAEpB,KAAK,CAAC,GAAGmB,MAAM,CAACC,QAAQ;MAClF,OAAO,MAAM;QACX,IAAIpB,KAAK,EAAEqB,IAAI,CAACD,QAAQ,CAACY,OAAO,CAAC,CAAC;QAClCf,KAAK,CAACgB,MAAM,CAACZ,IAAI,CAAC;MACpB,CAAC;IACH;EACF,CAAC,EAAE,CAACrB,KAAK,EAAE,CAACI,YAAY,GAAGE,GAAG,CAACY,OAAO,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG,CAACb,mBAAmB,GAAGD,YAAY,CAACe,MAAM,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGd,mBAAmB,CAACe,QAAQ,CAAC,CAAC;EACxJ1C,KAAK,CAACsC,eAAe,CAAC,MAAM;IAC1B,MAAMC,KAAK,GAAGX,GAAG,CAACY,OAAO;IACzB,MAAMG,IAAI,GAAGJ,KAAK,CAACiB,QAAQ,CAAC,CAAC,CAAC;IAE9B,IAAIb,IAAI,EAAE;MACRvC,UAAU,CAACuC,IAAI,CAACb,QAAQ,EAAE;QACxBZ,WAAW;QACXP,SAAS;QACTH,KAAK;QACLE,OAAO;QACPE,IAAI,EAAEuB,WAAW;QACjB5B,WAAW;QACXY,UAAU;QACVC,aAAa;QACbC;MACF,CAAC,CAAC;IACJ;EACF,CAAC,EAAE,CAACC,KAAK,EAAEJ,WAAW,EAAEP,SAAS,EAAEH,KAAK,EAAEE,OAAO,EAAEH,WAAW,EAAEY,UAAU,EAAEC,aAAa,EAAEC,mBAAmB,EAAEc,WAAW,CAAC,CAAC;EAC7H,OAAO,aAAanC,KAAK,CAACyD,aAAa,CAAC,OAAO,EAAE3D,QAAQ,CAAC;IACxD8B,GAAG,EAAEA;EACP,CAAC,EAAEH,KAAK,CAAC,CAAC;AACZ;AAEA,SAASR,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}